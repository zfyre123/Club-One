tribe.events=tribe.events||{};tribe.events.views=tribe.events.views||{};tribe.events.views.mapEventsScroller={};(function($,obj){'use strict';var $document=$(document);obj.selectors={mapEventCardsOuterWrapper:'[data-js="tribe-events-pro-map-event-cards-wrapper"]',mapEventCardsWrapper:'[data-js="tribe-events-pro-map-event-cards"]',mapEventCardsWrapperClass:'.tribe-events-pro-map__event-cards',mapEventCardsWrapperActiveClass:'.tribe-events-pro-map__event-cards--active',mapEventCardsPaneClass:'.tribe-events-pro-map__event-cards-scroll-pane',mapEventCardsSliderClass:'.tribe-events-pro-map__event-cards-scroll-slider',};obj.scrollTo=function($container,$element){var $wrapper=$container.find(obj.selectors.mapEventCardsWrapperClass);var offset=$element.offset().top-$wrapper.offset().top+$wrapper.scrollTop();$wrapper.animate({scrollTop:offset},'fast');};obj.isWithinScrollView=function($container,$element){var $wrapper=$container.find(obj.selectors.mapEventCardsWrapperClass);var offsetTop=$element.offset().top-$wrapper.offset().top;var offsetBottom=$wrapper.offset().top+$wrapper.height()-$element.offset().top-$element.height();return 0<=offsetTop&&0<=offsetBottom;};obj.deinitScroller=function($container){$container.find(obj.selectors.mapEventCardsOuterWrapper).nanoScroller({destroy:true});};obj.initScroller=function($container){$container.find(obj.selectors.mapEventCardsOuterWrapper).nanoScroller({paneClass:obj.selectors.mapEventCardsPaneClass.className(),sliderClass:obj.selectors.mapEventCardsSliderClass.className(),contentClass:obj.selectors.mapEventCardsWrapperClass.className(),iOSNativeScrolling:true,alwaysVisible:false,}).find(obj.selectors.mapEventCardsWrapper).addClass(obj.selectors.mapEventCardsWrapperActiveClass.className());};obj.deinit=function(event,jqXHR,settings){var $container=event.data.container;obj.deinitScroller($container);$container.off('beforeAjaxSuccess.tribeEvents',obj.deinit);};obj.init=function(event,index,$container,data){if('map'!==data.slug){return;}
obj.initScroller($container);$container.on('beforeAjaxSuccess.tribeEvents',{container:$container},obj.deinit);};obj.ready=function(){$document.on('afterSetup.tribeEvents',tribe.events.views.manager.selectors.container,obj.init);};$document.ready(obj.ready);})(jQuery,tribe.events.views.mapEventsScroller);